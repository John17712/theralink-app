<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TheraLink</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='img/logo.png') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>

<!-- Navbar -->
<nav class="navbar">
  <div class="nav-left">
    <a href="/" class="brand-link">
      <img src="{{ url_for('static', filename='img/logo.png') }}" alt="TheraLink Logo" class="logo-img">
      <span class="brand-name">TheraLink</span>
    </a>
  </div>
  <div class="nav-right">
    <a href="/login" class="nav-item" data-i18n="nav_login">Login</a>
    <a href="/signup" class="nav-item" data-i18n="nav_signup">Sign Up</a>
    <select id="languageSelector" class="language-selector">
      <option value="en">English</option>
      <option value="es">Espa√±ol</option>
      <option value="fr">Fran√ßais</option>
      <option value="sw">Swahili</option>
      <option value="de">Deutsch</option>
      <option value="it">Italiano</option>
      <option value="pt">Portugu√™s</option>
      <option value="zh">‰∏≠Êñá</option>
      <option value="ja">Êó•Êú¨Ë™û</option>
      <option value="ko">ÌïúÍµ≠Ïñ¥</option>
      <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
      <option value="ru">–†—É—Å—Å–∫–∏–π</option>
      <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
      <option value="zu">isiZulu</option>
    </select>
  </div>
</nav>


<style>
/* ---------- Base ---------- */
html, body {
  height: 100%;
  margin: 0;
  font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  background: linear-gradient(135deg, #0f2b23, #112831);
  color: #fff;
  line-height: 1.5;
}

/* ---------- Navbar ---------- */
.navbar {
  background-color: rgba(15, 43, 35, 0.95);
  padding: 10px 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid rgba(0,255,159,0.2);
  position: sticky;
  top: 0;
  z-index: 1000;
  flex-wrap: wrap;
}

.nav-left, .nav-right {
  display: flex;
  align-items: center;
  gap: 16px;
  flex-wrap: wrap;
}

.nav-item {
  color: #fff;
  text-decoration: none;
  font-weight: 600;
}
.nav-item:hover, .nav-item.active { color: #00ff9f; }

.language-selector {
  background: #1e4136;
  color: #fff;
  border: none;
  padding: 7px 7px;
  border-radius: 6px;
  height: 36px;
  display: flex;
  align-items: center;
  font-size: 0.95rem;
}

/* ---------- Branding ---------- */
.logo-img {
  height: 32px;
  margin-right: 8px;
  vertical-align: middle;
}
.brand-link {
  display: flex;
  align-items: center;
  text-decoration: none;
  margin-right: 20px;
}
.brand-name {
  font-size: 1.2rem;
  font-weight: 700;
  color: #00ff9f;
}
.brand-link:hover .brand-name { color: #00d88c; }

/* ---------- Hero Section ---------- */
.main-sections {
  margin-bottom: 20px;
  padding: 20px 10px;
  text-align: center;
}

.main-sections header h1 {
  font-size: 2rem;
  margin-bottom: 8px;
  color: #00ff9f;
}
.main-sections .tagline {
  font-size: 1.1rem;
  margin-bottom: 12px;
  color: #bfead8;
}

.mode-selection {
  margin-top: 16px;
}
.mode-selection p {
  margin-bottom: 12px;
  font-size: 0.95rem;
  color: #eafff4;
}

.buttons {
  display: flex;
  gap: 12px;
  justify-content: center;
  flex-wrap: wrap;
}
.buttons button {
  background: #00ff9f;
  color: #0f2b23;
  font-weight: 700;
  border: none;
  border-radius: 10px;
  padding: 10px 14px;
  cursor: pointer;
  font-size: 1rem;
}
.buttons button:hover { background: #00d88c; }

/* ---------- Pricing Section ---------- */
.pricing {
  text-align: center;
  padding: 30px 10px;
}
.pricing h2 {
  color: #00ff9f;
  font-size: 1.6rem;
  margin-bottom: 12px;
}
.pricing .price {
  font-size: 1.8rem;
  font-weight: 700;
  margin-bottom: 16px;
  color: #eafff4;
}
.pricing ul {
  list-style: none;
  padding: 0;
  margin: 0 0 20px 0;
}
.pricing li {
  margin-bottom: 8px;
  font-size: 0.95rem;
}
.pricing button {
  background: #00ff9f;
  color: #0f2b23;
  border: none;
  border-radius: 10px;
  padding: 10px 16px;
  font-weight: 700;
  cursor: pointer;
}
.pricing button:hover { background: #00d88c; }

/* ---------- Footer ---------- */
footer {
  text-align: center;
  padding: 10px 0;
  margin-top: 20px;
  border-top: 1px solid rgba(0,255,159,0.2);
}
footer a {
  color: #00ff9f;
  text-decoration: none;
  margin: 0 4px;
  font-size: 0.9rem;
}
footer a:hover { color: #00d88c; }

/* ---------- Responsive ---------- */
@media (max-width: 768px) {
  .navbar { flex-direction: column; align-items: flex-start; }
  .nav-left, .nav-right { margin-top: 6px; }
  .main-sections header h1 { font-size: 1.6rem; }
  .pricing h2 { font-size: 1.3rem; }
  .pricing .price { font-size: 1.4rem; }
}

@media (max-width: 480px) {
  .buttons { flex-direction: column; gap: 10px; }
  .buttons button { width: 100%; }
  .language-selector { width: 100%; }
}
</style>


<!-- Hero + Pricing Layout -->
<div class="main-sections">
  <!-- Hero / Trial Section -->
<div class="container">
  <div>
    <header>
      <h1 data-i18n="hero_welcome">Welcome to TheraLink</h1>
      <p class="tagline">Private, intelligent conversations, anytime, anywhere.</p>
    </header>

    <div class="mode-selection">
      <p data-i18n="hero_trial_text">Try our free trial: 50 messages or 5 minutes call before signup</p>

      <div class="buttons">
        <a id="chatBtn" href="/trial_chat"><button data-i18n="hero_try_chat">üí¨ Try Chat</button></a>
        <a id="callBtn" href="/trial_call"><button data-i18n="hero_try_call">üìû Try Call</button></a>
      </div>
    </div>
  </div>
</div>

<!-- Pricing Section -->
<div class="pricing">
  <div>
    <h2 data-i18n="pricing_title">Unlock Unlimited Access</h2>
    <div class="price" data-i18n="pricing_price">$10/month</div>
    <ul>
      <li data-i18n="pricing_feature_chat">‚úÖ Unlimited chat sessions</li>
      <li data-i18n="pricing_feature_call">‚úÖ Unlimited voice call sessions</li>
      <li data-i18n="pricing_feature_multi">‚úÖ Multi-language support</li>
      <li data-i18n="pricing_feature_privacy">‚úÖ Privacy-focused & secure</li>
    </ul>
   <a href="/signup"><button data-i18n="pricing_button">Subscribe Now</button></a>
  </div>
</div>


<!-- Footer -->
<!-- Footer -->
<footer>
  <a href="/terms" data-i18n="footer_terms">Terms & Conditions</a> |
  <a href="/privacy" data-i18n="footer_privacy">Privacy Policy</a>
</footer>


<script>
  const languageSelector = document.getElementById('languageSelector');
  const savedLang = localStorage.getItem('selectedLanguage') || '{{ lang|default("en") }}';
  languageSelector.value = savedLang;

  async function loadLanguage(lang) {
    try {
      const res = await fetch(`/static/lang/${lang}.json`);
      if (!res.ok) throw new Error("Could not load translations");
      const dict = await res.json();
      applyTranslations(dict);
      localStorage.setItem('selectedLanguage', lang);
    } catch (err) { console.error("Error loading language:", err); }
  }

  function applyTranslations(dict) {
    document.querySelectorAll('[data-i18n]').forEach(el => {
      const key = el.getAttribute('data-i18n');
      if (dict[key]) {
        if (["input","textarea"].includes(el.tagName.toLowerCase())) {
          el.placeholder = dict[key];
        } else {
          el.textContent = dict[key];
        }
      }
    });
    document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
      const key = el.getAttribute('data-i18n-placeholder');
      if (dict[key]) el.setAttribute('placeholder', dict[key]);
    });
    document.body.setAttribute('dir', (languageSelector.value === 'ar') ? 'rtl' : 'ltr');
  }

  languageSelector.addEventListener('change', () => loadLanguage(languageSelector.value));
  loadLanguage(savedLang);
</script>

<script src="{{ url_for('static', filename='js/i18n.js') }}"></script>

<script src="https://js.stripe.com/v3/"></script>
<script>
  const stripe = Stripe("{{ publishable_key }}");

  document.getElementById("checkout-button").addEventListener("click", () => {
    fetch("/create-checkout-session", { method: "POST" })
      .then(response => response.json())
      .then(session => stripe.redirectToCheckout({ sessionId: session.id }))
      .then(result => {
        if (result.error) {
          alert(result.error.message);
        }
      });
  });
</script>


</body>
</html>
